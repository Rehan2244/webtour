# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Guided Tour Web Application - a lightweight JavaScript library for creating interactive, animated tours for websites. The library allows developers to highlight HTML elements and provide contextual guidance to users.

## Architecture

### Core Components
- **GuidedTour** (`src/guided-tour.js`): Main class that orchestrates the tour functionality
- **TourState** (`src/tour-state.js`): Manages tour progress and completion state
- **Overlay** (`src/components/overlay.js`): Creates semi-transparent overlay with SVG-based highlighting
- **Tooltip** (`src/components/tooltip.js`): Displays tour content with smart positioning
- **ToggleButton** (`src/components/toggle-button.js`): Floating button for tour control
- **Animator** (`src/utils/animator.js`): Handles smooth transitions and effects
- **EventEmitter** (`src/utils/event-emitter.js`): Event system for component communication

### Key Design Patterns
- Event-driven architecture for loose coupling between components
- Modular ES6 modules with clear separation of concerns
- CSS-in-JS for component styling with fallback to external CSS
- Smart positioning algorithm that adapts to viewport constraints

## Development Commands

```bash
# Install dependencies
npm install

# Build the library (creates dist/guided-tour.js and dist/guided-tour.min.js)
npm run build

# Build and watch for changes
npm run dev

# Start local server for demo
npm run serve
# Then open http://localhost:8080/demo
```

## Project Structure

```
/src
  /components     - UI components (overlay, tooltip, toggle button)
  /utils          - Utility classes (animator, event emitter)
  /config         - Default configuration options
  /styles         - CSS styles for all components
  guided-tour.js  - Main entry point
/demo
  index.html      - Comprehensive demo page with examples
/dist
  (built files)   - Generated by rollup build process
```

## Testing Approach

Currently no test framework is set up. To test:
1. Run `npm run serve` and open the demo page
2. Test all tour types (main tour, feature tour, form tour, custom tour)
3. Verify responsive behavior on different screen sizes
4. Check keyboard navigation (arrow keys, escape)
5. Test theme switching and customization options

## Important Implementation Details

- The library uses SVG masks for creating highlight cutouts in the overlay
- Tooltip positioning uses a smart algorithm that checks available viewport space
- All animations are CSS-based for performance
- The library has no external dependencies
- State persistence uses localStorage with configurable keys
- Components communicate via custom events, not direct method calls